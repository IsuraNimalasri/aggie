<!-- This is the Search Bar -->
<form>
  <div class="table-filters mb-4">
    <div class="filter-row">
      <div class="td search">
        <div class="input-group">
          <input type="text" ng-model="searchParams.title" class="form-control" placeholder="{{'Enter Title' | translate}}">
          <div class="input-group-append">
            <button class="btn btn-secondary" type="reset" title="clearTags" href ng-click="clearTags()">
              <span>&times;</span>
            </button>
          </div>
        </div>
      </div>
      <div class="td search">
        <div class="input-group">
          <input type="text" ng-model="searchParams.tags" class="form-control" placeholder="{{'Enter Tags' | translate}}">
          <div class="input-group-append">
            <button class="btn btn-secondary" type="reset" title="clearTags" href ng-click="clearTags()">
              <span>&times;</span>
            </button>
          </div>
        </div>
      </div>
      <div class="td search">
        <div class="input-group">
          <input type="text" ng-model="searchParams.tags" class="form-control" placeholder="{{'Enter Tags' | translate}}">
          <div class="input-group-append">
            <button class="btn btn-secondary" type="reset" title="clearTags" href ng-click="clearTags()">
              <span>&times;</span>
            </button>
          </div>
        </div>
      </div>
      <div ng-show="currentUser.can('view other users')" class="td filter">
        <select ng-model="searchParams.assignedTo" ng-options="user._id as user.username for user in users" ng-change="search()" class="form-control">
          <option value="" translate>Assigned To</option>
        </select>
      </div>
      <div class="td filter">
        <select ng-model="searchParams.status" ng-options="option | capitalize | translate for option in statusOptions" ng-change="search()" class="form-control">
          <option value="" translate>Status</option>
        </select>
      </div>
      <div class="td filter">
        <select ng-model="searchParams.veracity" ng-options="option | capitalize | translate for option in veracityOptions" ng-change="search()" class="form-control">
          <option value="" translate>Veracity</option>
        </select>
      </div>
      <div class="td filter">
        <select ng-model="searchParams.escalated" ng-options="option | capitalize | translate for option in escalatedOptions" ng-change="search()" class="form-control">
          <option value="" translate>Escalated?</option>
        </select>
      </div>
      <div class="td filter">
        <select ng-model="searchParams.public" ng-options="option | capitalize | translate for option in publicOptions" ng-change="search()" class="form-control">
          <option value="" translate>Public?</option>
        </select>
      </div>
      <div class="td" ng-hide="noFilters()">
        <button type="submit" class="btn" ng-click="clearFilters()"><i class="fa fa-close"></i></button>
      </div>
    </div>
  </div>
</form>

<!-- This is the main container -->
<div class="container-fluid">
  <div class="row">
    <div class="col">
    </div>
    <div class="col-lg-11 col-xl-9">
      <div class="card">
        <div class="card-header">
          <div class="btn-toolbar justify-content-between" role="toolbar" aria-label="Toolbar with selection actions" ng-show="currentUser.can('edit data')">
            <div class="btn-group">
              <div class="btn-group mr-2" role="group" aria-label="Select All">
                <div>
                  <input ng-select-all items="incidents" title="Select All" type="checkbox" class="form-check-input" />
                </div>
              </div>
              <div class="btn-group mr-2" role="group" aria-label="Delete Incidents">
                <button class="btn btn-default" aggie-confirm="{{'Are you sure you want to delete selected incidents?' | translate}}" on-confirm="removeSelected()">
                  {{'Delete' | translate}}
                </button>
              </div>
              <div class="btn-group-mr-2" role="group" aria-label="Create Incidents">
                <button ng-controller="IncidentFormModalController" class="btn btn-info" ng-click="create()" translate>Create Incident</button>
              </div>

            </div>
            <nav aria-label="incident list page navigation">
              <ul class="pagination">
                <li class="pager-label mt-2 mr-2">
                  {{ pagination.start }} - {{ pagination.end }} {{ 'of' | translate }} {{ pagination.total | maxCount:pagination.visibleTotal }}
                </li>
                <li class="page-item" ng-class="{disabled: isFirstPage() }">
                  <a class="page-link"  ui-sref="incidents({ page: pagination.page - 1 })"><i class="fa fa-chevron-left"></i></a>
                </li>
                <li class="page-item" ng-class="{disabled: isLastPage() }">
                  <a class="page-link"  ui-sref="incidents({ page: pagination.page + 1 })"><i class="fa fa-chevron-right"></i></a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div class="clearfix"></div>
        <div ng-hide="pagination.total > 0" class="card-body">
          <p  translate>Sorry, but we couldn't find any incidents.</p>
        </div>
        <div ng-include="'/templates/incidents/table.html'"></div>
      </div>
    </div>
    <div class="col">
      <div class="sticky-top">
        <div ng-include="'/templates/statsbar.html'"></div>
      </div>
    </div>
  </div>
</div>
