<!-- This is the Search Bar -->
<form>
  <div class="table-filters">
    <div class="filter-row">
      <div class="td search">
        <div class="input-group">
          <span class="input-group-addon">
            <i class="fa fa-search"></i>
          </span>
          <input type="text" ng-model="searchParams.title" class="form-control" placeholder="{{'Enter Title' | translate}}">
          <a href class="input-group-addon" ng-click="searchParams.title = null" ng-show="searchParams.title">×</a>
          <div class="input-group-append">
            <button type="submit" class="btn btn-info" ng-click="search()">
              <i class="fa fa-search text-dark" aria-hidden="true"></i>
            </button>
            <a title="Search" href class="input-group-addon" ng-click="clearSearch()" ng-show="searchParams.keywords">×</a>
          </div>
        </div>
      </div>
      <div class="td search">
        <div class="input-group">
          <span class="input-group-addon">
            <i class="fa fa-search"></i>
          </span>
          <input type="text" ng-model="searchParams.tags" class="form-control" placeholder="{{'Enter Tags' | translate}}">
          <a href class="input-group-addon" ng-click="searchParams.tags = null" ng-show="searchParams.tags">×</a>
        </div>
      </div>
      <div class="td search">
        <div class="input-group">
          <span class="input-group-addon">
            <i class="fa fa-search"></i>
          </span>
          <input type="text" ng-autocomplete ng-model="searchParams.locationName" class="form-control" placeholder="{{'Enter Location' | translate }}">
          <a href class="input-group-addon" ng-click="searchParams.locationName = null" ng-show="searchParams.locationName">×</a>
          <div class="input-group-btn">
            <button type="submit" class="btn btn-info" ng-click="search()" translate>Go</button>
          </div>
        </div>
      </div>
      <div ng-show="currentUser.can('view other users')" class="td filter">
        <select ng-model="searchParams.assignedTo" ng-options="user._id as user.username for user in users" ng-change="search()" class="form-control">
          <option value="" translate>Assigned To</option>
        </select>
      </div>
      <div class="td filter">
        <select ng-model="searchParams.status" ng-options="option | capitalize | translate for option in statusOptions" ng-change="search()" class="form-control">
          <option value="" translate>Status</option>
        </select>
      </div>
      <div class="td filter">
        <select ng-model="searchParams.veracity" ng-options="option | capitalize | translate for option in veracityOptions" ng-change="search()" class="form-control">
          <option value="" translate>Veracity</option>
        </select>
      </div>
      <div class="td filter">
        <select ng-model="searchParams.escalated" ng-options="option | capitalize | translate for option in escalatedOptions" ng-change="search()" class="form-control">
          <option value="" translate>Escalated?</option>
        </select>
      </div>
      <div class="td filter">
        <select ng-model="searchParams.public" ng-options="option | capitalize | translate for option in publicOptions" ng-change="search()" class="form-control">
          <option value="" translate>Public?</option>
        </select>
      </div>
      <div class="td" ng-hide="noFilters()">
        <button type="submit" class="btn" ng-click="clearFilters()"><i class="fa fa-close"></i></button>
      </div>
    </div>
  </div>
</form>

<div class="container">
  <div class="card">
    <div class="card-header">
      <div class="btn-toolbar justify-content-between" role="toolbar" aria-label="Toolbar with selection actions" ng-show="currentUser.can('edit data')">
        <div class="btn-group mr-2" role="group" aria-label="Read/Unread Buttons">
          <div class="mr-2 mt-1 form-check">
            <input ng-select-all items="incidents" title="Select All" type="checkbox" class="form-check-input" />
          </div>
        </div>
        <div class="btn-group">
          <button class="btn btn-default" aggie-confirm="{{'Are you sure you want to delete selected incidents?' | translate}}" on-confirm="removeSelected()">
            {{'Delete' | translate}}
          </button>
        </div>
        <div class="btn-group">
          <button ng-controller="IncidentFormModalController" class="btn btn-info" ng-click="create()" translate>Create Incident</button>
        </div>
        <div class="btn-group">
          <nav aria-label="incident list page navigation">
            <ul class="pagination">
              <li class="pager-label mt-2 mr-2">
                {{ pagination.start }} - {{ pagination.end }} {{ 'of' | translate }} {{ pagination.total | maxCount:pagination.visibleTotal }}
              </li>
              <li class="page-item" ng-class="{disabled: isFirstPage() }">
                <a class="page-link"  ui-sref="incidents({ page: pagination.page - 1 })"><i class="fa fa-chevron-left"></i></a>
              </li>
              <li class="page-item" ng-class="{disabled: isLastPage() }">
                <a class="page-link"  ui-sref="incidents({ page: pagination.page + 1 })"><i class="fa fa-chevron-right"></i></a>
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
    <div class="clearfix"></div>
    <p ng-hide="pagination.total > 0" translate>Sorry, but we couldn't find any incidents.</p>
    <div ng-include="'/templates/incidents/table.html'"></div>
  </div>
</div>